<?xml version="1.0" encoding="UTF-8"?>
<svg width="960" height="360" viewBox="0 0 960 360"
     xmlns="http://www.w3.org/2000/svg">

  <!-- ===== Background ===== -->
  <defs>
    <linearGradient id="bg-grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#020617"/>
      <stop offset="40%" stop-color="#02091a"/>
      <stop offset="100%" stop-color="#020617"/>
    </linearGradient>

    <linearGradient id="edge-grad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#38bdf8" stop-opacity="0.15"/>
      <stop offset="40%" stop-color="#38bdf8" stop-opacity="0.8"/>
      <stop offset="100%" stop-color="#38bdf8" stop-opacity="0.12"/>
    </linearGradient>

    <radialGradient id="node-core-blue" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#e0f2fe" stop-opacity="1"/>
      <stop offset="45%" stop-color="#38bdf8" stop-opacity="0.95"/>
      <stop offset="100%" stop-color="#0ea5e9" stop-opacity="0"/>
    </radialGradient>

    <radialGradient id="node-core-amber" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#fff7ed" stop-opacity="1"/>
      <stop offset="45%" stop-color="#fbbf24" stop-opacity="0.9"/>
      <stop offset="100%" stop-color="#f97316" stop-opacity="0"/>
    </radialGradient>

    <radialGradient id="scan-grad" cx="50%" cy="0%" r="60%">
      <stop offset="0%" stop-color="#22c55e" stop-opacity="0.3"/>
      <stop offset="70%" stop-color="#22c55e" stop-opacity="0"/>
    </radialGradient>
  </defs>

  <rect x="0" y="0" width="960" height="360" fill="url(#bg-grad)"/>

  <!-- ===== Subtle grid ===== -->
  <g stroke="#0b1220" stroke-width="0.5" opacity="0.5">
    <!-- horizontal -->
    <path d="M40 60 H920 M40 110 H920 M40 160 H920 M40 210 H920 M40 260 H920 M40 310 H920"/>
    <!-- vertical -->
    <path d="M80 40 V320 M200 40 V320 M320 40 V320 M440 40 V320 M560 40 V320 M680 40 V320 M800 40 V320"/>
  </g>

  <!-- ===== Section labels (top) ===== -->
  <g font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif"
     font-size="11" fill="#9ca3af">
    <text x="95"  y="56">Revit model (prefab housing)</text>
    <text x="305" y="56">Dynamo graphs</text>
    <text x="435" y="56">CPython rules</text>
    <text x="575" y="56">Prefab logic / options</text>
    <text x="745" y="56">5D / CPQ / BOM</text>
  </g>

  <!-- ========================================================= -->
  <!-- LEFT: Isometric prefab building with scanning automation  -->
  <!-- ========================================================= -->

  <!-- Building base -->
  <g transform="translate(150,200)">
    <!-- Shadow -->
    <polygon points="-80,55 60,55 110,30 -30,30"
             fill="#020617" opacity="0.9"/>

    <!-- Lower slab -->
    <polygon points="-80,30 60,30 110,5 -30,5"
             fill="#0f172a" stroke="#1f2937" stroke-width="1.2"/>
    <polygon points="-80,30 -30,5 -30,-45 -80,-20"
             fill="#020617" stroke="#1f2937" stroke-width="1.2"/>
    <polygon points="60,30 110,5 110,-45 60,-20"
             fill="#020617" stroke="#1f2937" stroke-width="1.2"/>

    <!-- Middle slab -->
    <g transform="translate(0,-45)">
      <polygon points="-70,25 50,25 100,0 -20,0"
               fill="#111827" stroke="#1e293b" stroke-width="1.2"/>
      <polygon points="-70,25 -20,0 -20,-40 -70,-15"
               fill="#020617" stroke="#1e293b" stroke-width="1.2"/>
      <polygon points="50,25 100,0 100,-40 50,-15"
               fill="#020617" stroke="#1e293b" stroke-width="1.2"/>
    </g>

    <!-- Top slab -->
    <g transform="translate(0,-90)">
      <polygon points="-60,20 40,20 90,-5 -10,-5"
               fill="#111827" stroke="#1f2937" stroke-width="1.2"/>
      <polygon points="-60,20 -10,-5 -10,-35 -60,-10"
               fill="#020617" stroke="#1f2937" stroke-width="1.2"/>
      <polygon points="40,20 90,-5 90,-35 40,-10"
               fill="#020617" stroke="#1f2937" stroke-width="1.2"/>

      <!-- Window grid on front face -->
      <g stroke="#1e293b" stroke-width="0.8">
        <!-- verticals -->
        <line x1="-60" y1="5" x2="-10" y2="-20"/>
        <line x1="-50" y1="10" x2="0" y2="-15"/>
        <line x1="-40" y1="15" x2="10" y2="-10"/>
        <line x1="-30" y1="20" x2="20" y2="-5"/>
        <!-- horizontals -->
        <line x1="-60" y1="5" x2="-30" y2="20"/>
        <line x1="-55" y1="0" x2="-25" y2="15"/>
        <line x1="-50" y1="-5" x2="-20" y2="10"/>
      </g>

      <!-- Scanning band moving up the façade -->
      <rect x="-63" y="-20" width="56" height="45"
            fill="url(#scan-grad)" opacity="0.8">
        <animate attributeName="y"
                 values="-20;10;-20"
                 dur="5s"
                 repeatCount="indefinite" />
      </rect>
    </g>

    <!-- Revit label card -->
    <g transform="translate(-95,-120)">
      <rect x="0" y="0" rx="6" ry="6" width="110" height="28"
            fill="#020617" stroke="#38bdf8" stroke-width="1.1"/>
      <text x="10" y="18"
            font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif"
            font-size="11" fill="#e5e7eb">
        Revit prefab model
      </text>
    </g>
  </g>

  <!-- ===================================== -->
  <!-- CENTER/RIGHT: Automation pipeline     -->
  <!-- ===================================== -->

  <!-- Edges (automation flow) -->
  <g stroke="url(#edge-grad)" stroke-width="2.1" stroke-linecap="round" opacity="0.85">
    <!-- Revit → Dynamo -->
    <path d="M260 180 C310 160, 330 140, 370 130"/>
    <path d="M260 210 C310 220, 330 235, 370 240"/>

    <!-- Dynamo → CPython -->
    <path d="M410 130 C450 120, 480 120, 520 135"/>
    <path d="M410 240 C450 250, 480 255, 520 245"/>

    <!-- CPython → Prefab logic -->
    <path d="M560 140 C605 150, 630 160, 660 170"/>
    <path d="M560 240 C605 230, 630 225, 660 215"/>

    <!-- Prefab logic → 5D -->
    <path d="M700 170 C740 175, 780 180, 820 180"/>
    <path d="M700 215 C740 210, 780 205, 820 200"/>
  </g>

  <!-- Moving “signal” dots along key edges -->
  <g fill="#38bdf8">
    <!-- Revit→Dynamo -->
    <circle r="3.3">
      <animateMotion dur="3.3s" repeatCount="indefinite"
                     path="M260 180 C310 160, 330 140, 370 130"/>
    </circle>
    <circle r="3.3">
      <animateMotion dur="3.8s" repeatCount="indefinite"
                     path="M260 210 C310 220, 330 235, 370 240"/>
    </circle>

    <!-- Dynamo→CPython -->
    <circle r="3.1">
      <animateMotion dur="3.5s" repeatCount="indefinite"
                     path="M410 130 C450 120, 480 120, 520 135"/>
    </circle>

    <!-- CPython→Prefab -->
    <circle r="3.1">
      <animateMotion dur="3.7s" repeatCount="indefinite"
                     path="M560 140 C605 150, 630 160, 660 170"/>
    </circle>

    <!-- Prefab→5D -->
    <circle r="3.2">
      <animateMotion dur="3.9s" repeatCount="indefinite"
                     path="M700 170 C740 175, 780 180, 820 180"/>
    </circle>
  </g>

  <!-- Nodes / blocks -->
  <g font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif"
     font-size="11">

    <!-- Dynamo cluster -->
    <g transform="translate(390,130)">
      <rect x="-40" y="-24" width="80" height="32" rx="7" ry="7"
            fill="#020617" stroke="#facc15" stroke-width="1.2"/>
      <circle cx="-15" cy="-8" r="7" fill="#111827" stroke="#facc15" stroke-width="1.1"/>
      <circle cx="5" cy="4" r="7" fill="#111827" stroke="#facc15" stroke-width="1.1"/>
      <circle cx="25" cy="-2" r="7" fill="#111827" stroke="#facc15" stroke-width="1.1"/>
      <text x="-30" y="23" fill="#e5e7eb">Dynamo graphs</text>
    </g>

    <!-- CPython cluster -->
    <g transform="translate(540,190)">
      <circle r="20" fill="#020617" stroke="#38bdf8" stroke-width="1.4"/>
      <circle r="13" fill="url(#node-core-blue)">
        <animate attributeName="r"
                 values="10;13;10"
                 dur="2.1s"
                 repeatCount="indefinite" />
      </circle>
      <text text-anchor="middle" y="32" fill="#cbd5f5" font-size="10">
        CPython rules
      </text>
    </g>

    <!-- Prefab logic block -->
    <g transform="translate(690,190)">
      <rect x="-60" y="-28" width="120" height="46" rx="9" ry="9"
            fill="#020617" stroke="#4ade80" stroke-width="1.2"/>
      <text x="-50" y="-10" fill="#bbf7d0">Prefab logic</text>
      <text x="-50" y="7"  fill="#9ca3af" font-size="10">variants · options · walls</text>
    </g>

    <!-- 5D / CPQ outputs -->
    <g transform="translate(840,185)">
      <rect x="-68" y="-30" width="136" height="52" rx="10" ry="10"
            fill="#020617" stroke="#e5e7eb" stroke-width="1.1"/>
      <text x="-58" y="-10" fill="#e5e7eb">5D / CPQ outputs</text>
      <text x="-58" y="7"  fill="#9ca3af" font-size="10">BOM · cost · planning</text>
    </g>
  </g>

  <!-- Tiny “logic sparks” around CPython (secondary nodes) -->
  <g fill="url(#node-core-amber)" opacity="0.9">
    <circle cx="565" cy="145" r="4.5">
      <animate attributeName="opacity"
               values="0.4;1;0.4"
               dur="1.9s"
               repeatCount="indefinite" />
    </circle>
    <circle cx="515" cy="145" r="3.8">
      <animate attributeName="opacity"
               values="0.3;0.9;0.3"
               dur="2.3s"
               repeatCount="indefinite" />
    </circle>
  </g>

  <!-- Caption -->
  <g font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif"
     font-size="11" fill="#9ca3af" opacity="0.95">
    <text x="48" y="336">
      Revit prefab model → Dynamo graphs → CPython rule engine → Prefab logic → 5D / CPQ outputs
    </text>
  </g>

</svg>
